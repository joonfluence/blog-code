### 정의

CQRS(Command and Query Responsibility Segregation). 시스템에서 명령을 처리하는 책임과 조회를 처리하는 책임을 분리하는 것을 말한다.

### 쓰는 이유

1. 문제상황

- monolithic에서 MSA로 전환이 진행될수록 여러 서비스의 API를 호출해야만 하는 케이스가 생겨나게 된다. 이 때 각각의 API를 조합하여 사용하는 구조를 가져간다면, 단 하나의 API 호출에서 에러가 발생해도 가용성과 응답성이 크게 떨어질 수 있게 된다.
- 하나의 유스케이스를 위해 여러 개의 API를 호출하는 것도 네트워크 통신의 응답성을 생각하면 좋은 방식은 아니다.

2. 해결방안

이러한 문제를 해결하기 위한 방법 중의 하나는 쿼리 전용의 중앙화된 뷰 DB를 구축하는 것이다. CQRS에서는 커맨드 작업과 쿼리 작업을 분리하고, 데이터가 변경될 때마다 해당 이벤트를 구독하여 조회 목적의 DB를 갱신하는 구조를 가진다.
**다양한 도메인의 데이터를 하나의 API로 조회 가능하도록 하는 중앙화된 뷰 DB를 구축**하고, **각각의 도메인에서 데이터 변경 이벤트가 발생할 때마다 이를 구독하여 중앙화된 뷰 DB를 갱신하는 구조를 만드는 것**이다.

### 궁금증

1. CQRS와 Kafka의 연관 관계는 무엇인가?
2. redis와 Kafka의 차이점은 무엇인가?
